Change wget to identify itself as running on OmniOS. Without this it will
report 'solaris2.11'

diff -wpruN '--exclude=*.orig' a~/configure a/configure
--- a~/configure	1970-01-01 00:00:00
+++ a/configure	1970-01-01 00:00:00
@@ -7578,7 +7578,7 @@ case $host_os in *\ *) host_os=`echo "$h
 
 
 
-printf "%s\n" "#define OS_TYPE \"$host_os\"" >>confdefs.h
+printf "%s\n" "#define OS_TYPE \"OmniOS\"" >>confdefs.h
 
 
 # Check whether --enable-silent-rules was given.
diff -wpruN '--exclude=*.orig' a~/configure.ac a/configure.ac
--- a~/configure.ac	1970-01-01 00:00:00
+++ a/configure.ac	1970-01-01 00:00:00
@@ -56,7 +56,7 @@ dnl
 dnl Get canonical host
 dnl
 AC_CANONICAL_HOST
-AC_DEFINE_UNQUOTED([OS_TYPE], "$host_os",
+AC_DEFINE_UNQUOTED([OS_TYPE], "OmniOS",
                    [Define to be the name of the operating system.])
 
 dnl Non-verbose make
